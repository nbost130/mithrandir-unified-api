# -----------------------------------------------------------------------------
# Mithrandir Unified API - Environment Variables Example
#
# Instructions:
# 1. Copy this file to a new file named `.env` in the project root:
#    cp .env.example .env
#
# 2. Fill in the values for the variables below
#
# 3. DO NOT commit the `.env` file to version control
#    (it should already be in .gitignore)
#
# Variables marked with "(Required)" MUST be set for the application to run.
# Variables marked with "(Optional)" have sensible defaults.
# -----------------------------------------------------------------------------

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# The full URL for the transcription service API (Palantir)
# This is used to proxy transcription requests to the backend service
# (Required)
# Example: http://localhost:9003/api/v1
# Production: http://100.77.230.53:9003/api/v1
TRANSCRIPTION_API_URL=http://localhost:9003/api/v1

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Server port - the port this API will listen on
# (Optional - Default: 8889 for development, 8080 for production)
PORT=8889

# Server host - the network interface to bind to
# (Optional - Default: 0.0.0.0 to listen on all interfaces)
# Use 127.0.0.1 for localhost only, 0.0.0.0 for all interfaces
HOST=0.0.0.0

# Node environment - affects logging and error handling
# (Optional - Default: development)
# Options: development, production, test
NODE_ENV=development

# Logging level - controls verbosity of logs
# (Optional - Default: info)
# Options: fatal, error, warn, info, debug, trace
LOG_LEVEL=info

# =============================================================================
# RESILIENCE CONFIGURATION (API CLIENT)
# =============================================================================

# HTTP client timeout in milliseconds
# (Optional - Default: 5000)
# How long to wait for a response before timing out
CLIENT_TIMEOUT_MS=5000

# Number of retry attempts for transient failures
# (Optional - Default: 3)
# Applies to network errors and 5xx server errors
CLIENT_RETRY_COUNT=3

# Circuit breaker failure threshold
# (Optional - Default: 5)
# Number of consecutive failures before circuit opens
CLIENT_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Circuit breaker reset timeout in milliseconds
# (Optional - Default: 30000)
# How long to wait before testing if the service is back up
CLIENT_CIRCUIT_BREAKER_RESET_TIMEOUT_MS=30000

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. Never commit the .env file to version control
# 2. Use different values for development and production
# 3. Keep production secrets secure and separate
# 4. Rotate credentials regularly
# 5. Use environment-specific .env files:
#    - .env.development (for local dev)
#    - .env.production (for production server - NOT in git)
#    - .env.test (for testing)

# =============================================================================
# KNOWN ISSUES & DEPRECATIONS
# =============================================================================

# ⚠️ WARNING: This service currently uses 'sudo' for SSH management
# This is a SECURITY RISK and requires passwordless sudo configuration
# See src/services.ts for migration options
# Future versions will remove this dependency
